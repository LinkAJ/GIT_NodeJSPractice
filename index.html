<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>NodeJS Practice</title>
    <style>
    html, body {
        height: 100%;
        margin: 0;
    }
    body {
        background-color: #000000;
        color: #fff;
    }
    a { color: #4da6ff; }
    code { background: rgba(255,255,255,0.06); color: #fff; padding: 0.15em 0.3em; border-radius: 3px; }
    </style>

    <script src="https://cdn.tailwindcss.com"></script>
 
</head>

<body>

        <div class="flex items-center justify-center h-full">
            <div class="bg-white text-black rounded-lg shadow-lg p-8 ">
                <!-- added transition and active scale for nicer click feel -->
                <button id="button01" type="button" onclick="openDoor()" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-8 px-8 rounded transition-colors duration-150 transform active:scale-100">Click Me</button>
                  
                
                <div class="flex flex-col items-center justify-center w-full py-3">
                    <div id="light" class="flex items-center justify-center w-28 h-28 bg-stone-200 rounded-full shadow-md">
                     <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="-8 -9 40 40" stroke-width="1.5" stroke="currentColor" class="w-30 h-30 text-black" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18" />
                        </svg>
                    </div>
                </div>
        </div>

        <div class="flex items-center justify-center mt-6">
        </div>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.0/socket.io.js"></script>
        <script>
            var socket = io();

            socket.on('lightOn', function(){
                const light = document.getElementById("light");
                light.classList.replace('bg-stone-200', 'bg-yellow-400');
            });

            socket.on('lightOff', function(){
                const light = document.getElementById("light");
                light.classList.replace('bg-yellow-400','bg-stone-200');
            });

            function openDoor() {
                // emit to server
                socket.emit('openDoor');

                // quick visual feedback: swap bg class and revert shortly
                const btn = document.getElementById('button01');
                if (!btn) return;
                // change to a darker shade immediately
                btn.classList.remove('bg-blue-600', 'hover:bg-blue-700');
                btn.classList.add('bg-blue-900');

                // revert after 150ms
                setTimeout(() => {
                    btn.classList.remove('bg-blue-900');
                    btn.classList.add('bg-blue-600', 'hover:bg-blue-700');
                }, 250);
            };
        </script>
</body>
</html>